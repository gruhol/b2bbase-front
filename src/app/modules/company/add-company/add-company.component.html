<div class="container">
    <main>
    <div class="row g-5">
        <div class="col-md-12 col-lg-3"></div>
        <div class="col-md-12 col-lg-6">
        <div class="pt-5 pb-1">
            <h2>Dodaj firmę</h2>
            <p>Proszę wpisz dane swojej firmy.</p>
        </div>

        <hr class="mt-1 mb-4">

        <div *ngIf="validationErrors.get('username')" class="alert alert-danger" role="alert">
            {{validationErrors.get('username')}}
        </div>
        <div *ngIf="validationErrors.get('phone')" class="alert alert-danger" role="alert">
            {{validationErrors.get('phone')}}
        </div>
        
        <form [formGroup]="registerCompanyForm" (submit)="addCompany()">
            <div class="row gy-3 mt-1 mb-1">
                <div class="col-md-12 col-lg-10">
                    <label class="form-label">Nazwa firmy: </label>
                    <input type="text" class="form-control" [ngClass]="{
                        'is-invalid': name.invalid && name.touched,
                        'is-valid': name.valid && name.touched
                      }" formControlName="name">
                    <div *ngIf="name.touched && name.hasError('required')" class="invalid-feedback">Pole Nazwa firmy jest wymagane</div>
                    <div *ngIf="name.touched && name.hasError('minlength')" class="invalid-feedback">Pole Nazwa firmy musi zawierać min 2 znaki</div>
                </div>
                <div class="col-md-12 col-lg-10">
                    <label class="form-label">Slug: </label>
                    <input type="text" class="form-control" [ngClass]="{
                        'is-invalid': slug.invalid && slug.touched,
                        'is-valid': slug.valid && slug.touched
                      }" formControlName="slug">
                      <div *ngIf="slug.touched && slug.hasError('required')" class="invalid-feedback">Pole slug jest wymagane</div>
                      <div *ngIf="slug.touched && slug.hasError('minlength')" class="invalid-feedback">Pole slug musi zawierać min 2 znaki</div>
                </div>
            </div>

            <div class="row gy-1 mt-1 mb-1">
                <label class="form-label">Typ firmy: </label>
                <div class="col-md-12 col-lg-6">
                    <div class="card" style="width: 18rem;">
                        <div class="card-body">
                            <p class="card-text">Wybierz tą opcję jeśli jesteś dostawcą i ofertujesz sprzedaż hurtową.</p>
                            <div class="form-check form-switch">
                                <input type="checkbox" name="type[]" value="WHOLESALER" class="form-check-input" formControlName="type">
                                <label class="form-check-label">Jestem dostawcą</label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-12 col-lg-6">
                    <div class="card" style="width: 18rem;">
                        <div class="card-body">
                            <p class="card-text">Wybierze tą opcje jeśli szukasz nowych dostawców.</p>
                            <div class="form-check form-switch">
                                <input type="checkbox" name="type[]" value="CUSTOMER" class="form-check-input" formControlName="type">
                                <label class="form-check-label">Szukam dostawców</label>
                            </div>
                        </div>
                    </div>
                </div>
                
            </div>

            <div class="row gy-1 mt-1 mb-1">
                <div class="col-md-12 col-lg-10">
                    <label class="form-label">Forma prawna firmy: </label>

                    <select class="form-control" formControlName="legalForm">
                      <option *ngFor="let legalForm of legalFormList" [value]="legalForm">{{legalForm}}</option>
                    </select>

                    
                      <div *ngIf="slug.touched && slug.hasError('required')" class="invalid-feedback">Pole slug jest wymagane</div>
                      <div *ngIf="slug.touched && slug.hasError('minlength')" class="invalid-feedback">Pole slug musi zawierać min 2 znaki</div>
                </div>
            </div>

            <div class="row gy-3 mt-1 mb-1">
                <div class="col-md-12 col-lg-10">
                    <label class="form-label">NIP firmy: </label>
                    <input type="text" class="form-control" [ngClass]="{
                        'is-invalid': nip.invalid && nip.touched,
                        'is-valid': nip.valid && nip.touched
                      }" formControlName="nip">
                    <div *ngIf="nip.touched && nip.hasError('required')" class="invalid-feedback">Pole Nip firmy jest wymagane</div>
                    <div *ngIf="nip.touched && nip.hasError('minlength')" class="invalid-feedback">Pole Nip musi zawierać min 2 znaki</div>
                </div>
                <div class="col-md-12 col-lg-10">
                    <label class="form-label">Regon: </label>
                    <input type="text" class="form-control" [ngClass]="{
                        'is-invalid': regon.invalid && regon.touched,
                        'is-valid': regon.valid && regon.touched
                      }" formControlName="regon">
                      <div *ngIf="regon.touched && regon.hasError('required')" class="invalid-feedback">Pole regon jest wymagane</div>
                      <div *ngIf="regon.touched && regon.hasError('minlength')" class="invalid-feedback">Pole regon musi zawierać min 2 znaki</div>
                </div>
            </div>

            <button class="w-100 btn btn-success btn-lg mt-3" type="submit">Zarejestruj się</button>
        </form>
        </div>
        <div class="col-md-12 col-lg-3"></div>
    </div>
    </main>
</div>